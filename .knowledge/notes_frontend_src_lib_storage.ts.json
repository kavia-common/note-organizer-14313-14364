{"is_source_file": true, "format": "TypeScript", "description": "This file implements a storage interface for managing notes data using browser localStorage. It includes methods to load and save notes, with seed data for initial content. The class StorageRepo provides an abstraction for persistent storage, primarily for a notes application.", "external_files": ["./types"], "external_methods": ["crypto.randomUUID()"], "published": ["StorageRepo"], "classes": [{"name": "StorageRepo", "description": "Provides methods to load and save notes in localStorage, with seed data for initial notes."}], "methods": [{"name": "load(): Note[] { load", "description": "Retrieves notes from localStorage, parsing JSON data and providing default seed notes if storage is empty or invalid.", "scope": "StorageRepo", "scopeKind": "class"}, {"name": "save(notes: Note[]) { save", "description": "Stores notes array into localStorage as a JSON string; does nothing if not running in a browser.", "scope": "StorageRepo", "scopeKind": "class"}, {"name": "private seed(): Note[] { seed", "description": "Generates default seed notes when storage is empty or corrupted, providing initial content for the app.", "scope": "StorageRepo", "scopeKind": "class"}, {"name": "function isBrowser() { isBrowser", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "Date.now", "crypto.randomUUID"], "search-terms": ["StorageRepo", "localStorage", "notes"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^const STORAGE_KEY = \"notes-app.v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "StorageRepo", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^export class StorageRepo {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "isBrowser", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^function isBrowser() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^  load(): Note[] {$/", "language": "TypeScript", "kind": "method", "scope": "StorageRepo", "scopeKind": "class"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^    const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "StorageRepo.seed", "scopeKind": "method"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^      const parsed = JSON.parse(raw) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "StorageRepo.load", "scopeKind": "method"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^      const raw = window.localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "StorageRepo.load", "scopeKind": "method"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^  save(notes: Note[]) {$/", "language": "TypeScript", "kind": "method", "scope": "StorageRepo", "scopeKind": "class"}, {"_type": "tag", "name": "seed", "path": "/home/kavia/workspace/code-generation/note-organizer-14313-14364/notes_frontend/src/lib/storage.ts", "pattern": "/^  private seed(): Note[] {$/", "language": "TypeScript", "kind": "method", "scope": "StorageRepo", "scopeKind": "class"}], "hash": "c8414b875ef5faf084f1b234f2ce29d3", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/storage.ts", "revision_history": [{"28": ""}]}